<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>JavaScript高程复习(第3章到第6章) | 小雄子的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="JavaScript，前端" />
    
    <meta name="description" content="第三章 基本概念3.1 语法
ECMAScript标识符一般采用驼峰大小写格式，也就是第一个字母小写，剩下的每个单词首字母大写

3.3 变量
在严格模式下，不能定义名为eval或arguments的变量，否则会导致语法错误。

3.4 数据结构
ECMAScript中有5种简单数据类型（也称为基本数据类型）：Undefined、Null、Boolean、Number、String。还有一个种复">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript高程复习(第3章到第6章)">
<meta property="og:url" content="http://yoursite.com/2017/09/11/JavaScript高程复习（第3章到第6章）/index.html">
<meta property="og:site_name" content="小雄子的博客">
<meta property="og:description" content="第三章 基本概念3.1 语法
ECMAScript标识符一般采用驼峰大小写格式，也就是第一个字母小写，剩下的每个单词首字母大写

3.3 变量
在严格模式下，不能定义名为eval或arguments的变量，否则会导致语法错误。

3.4 数据结构
ECMAScript中有5种简单数据类型（也称为基本数据类型）：Undefined、Null、Boolean、Number、String。还有一个种复">
<meta property="og:image" content="http://ounf1hr8f.bkt.clouddn.com/17-9-11/45397200.jpg">
<meta property="og:updated_time" content="2017-09-11T13:57:18.657Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript高程复习(第3章到第6章)">
<meta name="twitter:description" content="第三章 基本概念3.1 语法
ECMAScript标识符一般采用驼峰大小写格式，也就是第一个字母小写，剩下的每个单词首字母大写

3.3 变量
在严格模式下，不能定义名为eval或arguments的变量，否则会导致语法错误。

3.4 数据结构
ECMAScript中有5种简单数据类型（也称为基本数据类型）：Undefined、Null、Boolean、Number、String。还有一个种复">
<meta name="twitter:image" content="http://ounf1hr8f.bkt.clouddn.com/17-9-11/45397200.jpg">
    

    
        <link rel="alternate" href="/" title="小雄子的博客" type="application/atom+xml" />
    

    
        <link rel="icon" href="http://omx21rwn1.bkt.clouddn.com/%E6%AF%94%E4%B8%A2.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">编程的点点滴滴</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/前端开发/">前端开发</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/前端开发/JavaScript/">JavaScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/前端开发/React/">React</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/开发工具/">开发工具</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/前端开发/JavaScript/">JavaScript</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-JavaScript高程复习（第3章到第6章）" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        JavaScript高程复习(第3章到第6章)
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/09/11/JavaScript高程复习（第3章到第6章）/" class="article-date">
            <time datetime="2017-09-11T13:14:56.097Z" itemprop="datePublished">2017-09-11</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/JavaScript，前端/">JavaScript，前端</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="http://ounf1hr8f.bkt.clouddn.com/17-9-11/45397200.jpg" alt=""></p>
<h2 id="第三章-基本概念"><a href="#第三章-基本概念" class="headerlink" title="第三章 基本概念"></a>第三章 基本概念</h2><h3 id="3-1-语法"><a href="#3-1-语法" class="headerlink" title="3.1 语法"></a>3.1 语法</h3><ul>
<li>ECMAScript标识符一般采用驼峰大小写格式，也就是第一个字母小写，剩下的每个单词首字母大写</li>
</ul>
<h3 id="3-3-变量"><a href="#3-3-变量" class="headerlink" title="3.3 变量"></a>3.3 变量</h3><ul>
<li>在严格模式下，不能定义名为eval或arguments的变量，否则会导致语法错误。</li>
</ul>
<h3 id="3-4-数据结构"><a href="#3-4-数据结构" class="headerlink" title="3.4 数据结构"></a>3.4 数据结构</h3><ul>
<li>ECMAScript中有5种简单数据类型（也称为基本数据类型）：Undefined、Null、Boolean、Number、String。还有一个种复杂数据类型–Object</li>
<li>typeof 操作符的返回值<ul>
<li>“function” —— <strong>如果这个值是函数</strong>。<br>从技术角度讲，函数在 ECMAScript中是对象，不是一种数据类型。然而，函数也确实有一些特殊的属性，因此通过 typeof 操作符来区分函数和其他对象是有必要的。</li>
<li>“object” ——<strong>如果这个值是对象或 null</strong>，<br>因为null被认为是一个空对象的引用</li>
<li>Chrome 7 及之前版本对正则表达式应用 typeof 会返回 “function” 。在IE 和 Firefox中，对正则表达式应用 typeof 会返回 “object”</li>
</ul>
</li>
<li>typeof 是一个操作符而不是函数，所以后面不必加括号如typeof（）</li>
</ul>
<h4 id="3-4-2-Undefine类型"><a href="#3-4-2-Undefine类型" class="headerlink" title="3.4.2 Undefine类型"></a>3.4.2 Undefine类型</h4><ul>
<li>对未初始化和未声明的变量执行 typeof 操作符都返回了 undefined 值</li>
</ul>
<h4 id="3-4-3-Null类型"><a href="#3-4-3-Null类型" class="headerlink" title="3.4.3 Null类型"></a>3.4.3 Null类型</h4><p>如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化为 null 而不是其他值。这样一来，只要直接检查 null 值就可以知道相应的变量是否已经保存了一个对象的引用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(<span class="literal">null</span> == <span class="literal">undefined</span>)   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<h4 id="3-4-5-Number类型"><a href="#3-4-5-Number类型" class="headerlink" title="3.4.5 Number类型"></a>3.4.5 Number类型</h4><ul>
<li>要将一个值转换为其对应的 Boolean 值，可以调用转型函数 Boolean()</li>
<li>永远不要测试某个特定的浮点数值。</li>
<li>任何竖直除以非数值会返回<strong>NaN</strong>，因此不会影响其他代码的执行。</li>
<li>数值转换</li>
</ul>
<ol>
<li>Number（）<ul>
<li>如果是 undefined ，返回 NaN</li>
<li>如果是 null 值，返回 0</li>
<li>如果字符串中包含有效的十六进制格式，例如 “0xf” ，则将其转换为相同大小的十进制整数</li>
<li>如果字符串是空的（不包含任何字符），则将其转换为 0，而parseInt（）则返回NaN</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = <span class="built_in">Number</span>(<span class="string">"Hello world!"</span>);  <span class="comment">//NaN</span></div><div class="line"><span class="keyword">var</span> num2 = <span class="built_in">Number</span>(<span class="string">""</span>);              <span class="comment">//0</span></div><div class="line"><span class="keyword">var</span> num3 = <span class="built_in">Number</span>(<span class="string">"000011"</span>);        <span class="comment">//11</span></div><div class="line"><span class="keyword">var</span> num4 = <span class="built_in">Number</span>(<span class="literal">true</span>);            <span class="comment">//1</span></div></pre></td></tr></table></figure>
<ol>
<li><strong>ParseInt（）</strong><br>parseInt() 函数在转换字符串时，更多的是看其是否符合数值模式。它会忽略字符串前面的空格，直至找到第一个非空格字符。<strong>如果第一个字符不是数字字符或者负号， parseInt()就会返回 NaN</strong> ；也就是说，用 parseInt() 转换空字符串会返回 NaN （ Number() 对空字符返回 0）。如果第一个字符是数字字符， parseInt() 会继续解析第二个字符，直到解析完所有后续字符或者遇到了一个非数字字符</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = <span class="built_in">parseInt</span>(<span class="string">"1234blue"</span>); <span class="comment">// 1234</span></div><div class="line"><span class="keyword">var</span> num2 = <span class="built_in">parseInt</span>(<span class="string">""</span>); <span class="comment">// NaN</span></div><div class="line"><span class="keyword">var</span> num3 = <span class="built_in">parseInt</span>(<span class="string">"0xA"</span>); <span class="comment">// 10（十六进制数）</span></div><div class="line"><span class="keyword">var</span> num4 = <span class="built_in">parseInt</span>(<span class="number">22.5</span>); <span class="comment">// 22</span></div><div class="line"><span class="keyword">var</span> num5 = <span class="built_in">parseInt</span>(<span class="string">"070"</span>); <span class="comment">// 56（八进制数）</span></div><div class="line"><span class="keyword">var</span> num6 = <span class="built_in">parseInt</span>(<span class="string">"70"</span>); <span class="comment">// 70（十进制数）</span></div><div class="line"><span class="keyword">var</span> num7 = <span class="built_in">parseInt</span>(<span class="string">"0xf"</span>); <span class="comment">// 15（十六进制数）</span></div></pre></td></tr></table></figure>
<p>为了消除在使用 parseInt() 函数时可能导致的上述困惑，可以为这个函数提供第二个参数：转换时使用的基数（即多少进制）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="built_in">parseInt</span>(<span class="string">"0xAF"</span>, <span class="number">16</span>);  <span class="comment">//175</span></div></pre></td></tr></table></figure>
<p>实际上，如果指定了 16 作为第二个参数，字符串可以不带前面的 “0x” 。</p>
<ol>
<li><strong>parseFloat（）</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = <span class="built_in">parseFloat</span>(<span class="string">"1234blue"</span>);  <span class="comment">//1234 （整数）</span></div><div class="line"><span class="keyword">var</span> num2 = <span class="built_in">parseFloat</span>(<span class="string">"0xA"</span>);       <span class="comment">/*0,与parseInt不同，parseFlort会始终忽略前导零，</span></div><div class="line">而parseInt会将前导零解析为八进制*/</div><div class="line"><span class="keyword">var</span> num3 = <span class="built_in">parseFloat</span>(<span class="string">"22.5"</span>);      <span class="comment">//22.5</span></div><div class="line"><span class="keyword">var</span> num4 = <span class="built_in">parseFloat</span>(<span class="string">"22.34.5"</span>);   <span class="comment">//22.34</span></div><div class="line"><span class="keyword">var</span> num5 = <span class="built_in">parseFloat</span>(<span class="string">"0908.5"</span>);    <span class="comment">//908.5</span></div><div class="line"><span class="keyword">var</span> num6 = <span class="built_in">parseFloat</span>(<span class="string">"3.125e7"</span>);   <span class="comment">//31250000</span></div></pre></td></tr></table></figure>
<h4 id="3-4-6-String类型"><a href="#3-4-6-String类型" class="headerlink" title="3.4.6 String类型"></a>3.4.6 String类型</h4><ul>
<li>toString()和String()方法的不同<br>  null和undefined没有toString()方法，在不知道要转换的值是不是 null 或 undefined 的情况下，可以使用转型函数 String()。<br>  在调用数值的 toString() 方法时，可以传递一个参数：输出数值的基数。默认情况下， toString() 方法以十进制格式返回数值的字符串表示。而通过传递基数， toString() 可以输出以二进制、八进制、十六进制，乃至其他任意有效进制格式表示的字符串值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toString()); <span class="comment">// "10"</span></div><div class="line">alert(num.toString(<span class="number">2</span>)); <span class="comment">// "1010"</span></div><div class="line">alert(num.toString(<span class="number">8</span>)); <span class="comment">// "12"</span></div><div class="line">alert(num.toString(<span class="number">10</span>)); <span class="comment">// "10"</span></div><div class="line">alert(num.toString(<span class="number">16</span>)); <span class="comment">// "a"</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> value1 = <span class="number">10</span>;</div><div class="line"><span class="keyword">var</span> value2 = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> value3 = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> value4;</div><div class="line">alert(<span class="built_in">String</span>(value1)); <span class="comment">// "10"</span></div><div class="line">alert(<span class="built_in">String</span>(value2)); <span class="comment">// "true"</span></div><div class="line">alert(<span class="built_in">String</span>(value3)); <span class="comment">// "null"</span></div><div class="line">alert(<span class="built_in">String</span>(value4)); <span class="comment">// "undefined"</span></div></pre></td></tr></table></figure>
<h4 id="3-4-7-Object类型"><a href="#3-4-7-Object类型" class="headerlink" title="3.4.7 Object类型"></a>3.4.7 Object类型</h4><p><strong>Object 的每个实例都具有下列属性和方法</strong></p>
<ul>
<li><p>constructor ：保存着用于创建当前对象的函数。对于前面的例子而言，构造函数（constructor）就是 Object() 。</p>
</li>
<li><p>hasOwnProperty(propertyName) ：用于检查给定的属性在当前对象实例中（而不是在实例的原型中）是否存在。其中，作为参数的属性名（ propertyName ）必须以字符串形式指定（例如： o.hasOwnProperty(“name”) ）。</p>
</li>
<li><p>isPrototypeOf(object) ：用于检查传入的对象是否是传入对象的原型。</p>
</li>
<li><p>propertyIsEnumerable(propertyName) ：用于检查给定的属性是否能够使用 for-in 语句，与 hasOwnProperty() 方法一样，作为参数的属性名必须以字符串形式指定。</p>
</li>
<li><p>toString() ：返回对象的字符串表示</p>
</li>
<li><p>valueOf() ：返回对象的字符串、数值或布尔值表示。通常与 toString() 方法的返回值相同</p>
</li>
</ul>
<h3 id="3-5-操作符"><a href="#3-5-操作符" class="headerlink" title="3.5 操作符"></a>3.5 操作符</h3><ul>
<li><p>一元加减操作符<br>  一元加操作符以一个加号（+）表示，放在数值前面，对数值不会产生任何影响,不过，在对非数值应用一元加操作符时，该操作符会像 Number() 转型函数一样对这个值执行转换。</p>
</li>
<li><p>按位异或 ^</p>
</li>
<li>左移 &lt;&lt;</li>
<li>有符号右移 &gt;&gt;</li>
<li>无符号右移 &gt;&gt;&gt;</li>
<li>逻辑非!<br>  逻辑非操作符首先会将它的操作数转换为一个布尔值，然后再<br>  对其求反</li>
<li>逻辑与&amp;&amp;(短路操作)<ul>
<li>如果第一个操作数是对象，则返回第二个操作数</li>
<li>如果第二个操作数是对象，则只有在第一个操作数的求值结果为 true 的情况下才会返回该对象</li>
<li>如果有一个操作数是 null ，则返回 null</li>
<li>如果有一个操作数是 NaN ，则返回 NaN</li>
<li>如果有一个操作数是 undefined ，则返回 undefined</li>
<li>即如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值。对于逻辑与操作而言，如果第一个操作数是 false ，则无论第二个操作数是什么值，结果都不再可能是true</li>
</ul>
</li>
<li>逻辑或||<ul>
<li>逻辑或操作符也是短路操作符。也就是说，如果第一个操作数的求值结果为true ，就不会对第二个操作数求值了</li>
<li>我们可以利用逻辑或的这一行为来避免为变量赋 null 或 undefined 值</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myObject = preferredObject || backupObject;</div></pre></td></tr></table></figure>
<ul>
<li>减法<br>  如果有一个操作数是字符串、布尔值、 null 或 undefined ，则先在后台调用 Number() 函数将其转换为数值，然后再根据前面的规则执行减法计算。如果转换的结果是 NaN ，则减法的结果就是 NaN</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> result1 = <span class="number">5</span> - <span class="literal">true</span>;     <span class="comment">// 4，因为 true 被转换成了 1</span></div><div class="line"><span class="keyword">var</span> result2 = <span class="literal">NaN</span> - <span class="number">1</span>;      <span class="comment">// NaN</span></div><div class="line"><span class="keyword">var</span> result3 = <span class="number">5</span> - <span class="number">3</span>;        <span class="comment">// 2</span></div><div class="line"><span class="keyword">var</span> result4 = <span class="number">5</span> - <span class="string">""</span>;       <span class="comment">// 5，因为"" 被转换成了 0</span></div><div class="line"><span class="keyword">var</span> result5 = <span class="number">5</span> - <span class="string">"2"</span>;      <span class="comment">// 3，因为"2"被转换成了 2</span></div><div class="line"><span class="keyword">var</span> result6 = <span class="number">5</span> - <span class="literal">null</span>;     <span class="comment">// 5，因为 null 被转换成了 0</span></div></pre></td></tr></table></figure>
<hr>
<h2 id="第四章-变量、作用域和内存问题"><a href="#第四章-变量、作用域和内存问题" class="headerlink" title="第四章 变量、作用域和内存问题"></a>第四章 变量、作用域和内存问题</h2><h3 id="4-1-基本类型和引用类型的值"><a href="#4-1-基本类型和引用类型的值" class="headerlink" title="4.1 基本类型和引用类型的值"></a>4.1 基本类型和引用类型的值</h3><ul>
<li>ECMAScript 变量可能包含两种不同数据类型的值：基本类型值和引用类型值。基本类型值指的是简单的数据段，而引用类型值指那些可能由多个值构成的对象</li>
<li>当从一个变量向另一个变量复制引用类型的值时，同样也会将存储在变量对象中的值复制一份放到为新变量分配的空间中。不同的是，这个值的副本实际上是一个指针，而这个指针指向存储在堆中的一个对象。复制操作结束后，两个变量实际上将引用同一个对象。因此，改变其中一个变量，就会影响另一个变量</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line"><span class="keyword">var</span> obj2 = obj1;</div><div class="line">obj1.name = <span class="string">"Nicholas"</span>;</div><div class="line">alert(obj2.name); <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>参数只能按值传递，不管是基本类型的值还是引用类型的值</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    obj.name = <span class="string">"Nicholas"</span>;</div><div class="line">    obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    obj.name = <span class="string">"Greg"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">setName(person);</div><div class="line">alert(person.name); <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>实际上，当在函数内部重写 obj 时，这个变量引用的就是一个局部对象了。而这个局部对象会在函数执行完毕后立即被销毁。</p>
<ul>
<li>检测类型 instanceof<br>虽然在检测基本数据类型时 typeof 是非常得力的助手，但在检测引用类型的值时，这个操作符的用处不大。通常，我们并不是想知道某个值是对象，而是想知道它是什么类型的对象。为ECMAScript<br>提供了 instanceof 操作符</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">alert(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">// 变量 person 是 Object 吗？</span></div><div class="line">alert(colors <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// 变量 colors 是 Array 吗？</span></div><div class="line">alert(pattern <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>); <span class="comment">// 变量 pattern 是 RegExp 吗？</span></div></pre></td></tr></table></figure>
<hr>
<h2 id="第5章-引用类型"><a href="#第5章-引用类型" class="headerlink" title="第5章 引用类型"></a>第5章 引用类型</h2><h3 id="5-1-Object类型"><a href="#5-1-Object类型" class="headerlink" title="5.1 Object类型"></a>5.1 Object类型</h3><ul>
<li>创建Object类型的两种方法<ul>
<li>使用new操作符后跟Object构造函数</li>
<li>对象字面量<br>对象字面量也是向函数传递大量可选参数的首选方式</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayInfo</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> output = <span class="string">""</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> args.name == <span class="string">"string"</span>)&#123;</div><div class="line">        output += <span class="string">"Name: "</span> + args.name + <span class="string">"\n"</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> args.age == <span class="string">"number"</span>) &#123;</div><div class="line">        output += <span class="string">"Age: "</span> + args.age + <span class="string">"\n"</span>;</div><div class="line">    &#125;</div><div class="line">    alert(output);</div><div class="line">&#125;</div><div class="line">displayInfo(&#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"Nicholas"</span>,</div><div class="line">    <span class="attr">age</span>: <span class="number">29</span></div><div class="line">&#125;);</div><div class="line">displayInfo(&#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"Greg"</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>访问对象属性的两种方法<ul>
<li>点表示法，最通用</li>
<li>方括号表示法<br>属性名中包含会导致语法错误的字符，或者属性名使用的是关键字或保留字，也可以使用方括号表示法</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">person[<span class="string">"first name"</span>] = <span class="string">"Nicholas"</span></div></pre></td></tr></table></figure>
<h3 id="5-2-Array类型"><a href="#5-2-Array类型" class="headerlink" title="5.2 Array类型"></a>5.2 Array类型</h3><ul>
<li>数组的length属性可读可写的。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>]; <span class="comment">// 创建一个包含 3 个字符串的数组</span></div><div class="line">colors[colors.length] = <span class="string">"black"</span>; <span class="comment">// （在位置 3 ）添加一种颜色</span></div><div class="line">colors[colors.length] = <span class="string">"brown"</span>; <span class="comment">// （在位置 4 ）再添加一种颜色</span></div></pre></td></tr></table></figure>
<ul>
<li>检测数组<ul>
<li>instanceof</li>
<li>Array.isArray（）</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  <span class="comment">// true</span></div><div class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;); <span class="comment">// false</span></div><div class="line"><span class="built_in">Array</span>.isArray(<span class="string">'foobar'</span>);   <span class="comment">// false</span></div><div class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);  <span class="comment">// false</span></div></pre></td></tr></table></figure>
<ul>
<li>转换方法</li>
</ul>
<ol>
<li>toString()</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>]; <span class="comment">// 创建一个包含 3 个字符串的数组</span></div><div class="line">alert(colors.toString()); <span class="comment">// red,blue,green</span></div><div class="line">alert(colors.valueOf()); <span class="comment">// red,blue,green</span></div><div class="line">alert(colors); <span class="comment">// red,blue,green</span></div></pre></td></tr></table></figure>
<p>由于<strong>alert() 要接收字符串参数</strong>，所以它会在后台调用 toString() 方法，由此会得到与直接调用 toString() 方法相同的结果</p>
<ol>
<li>join()</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>];</div><div class="line">alert(colors.join(<span class="string">","</span>)); <span class="comment">//red,green,blue</span></div><div class="line">alert(colors.join(<span class="string">"||"</span>)); <span class="comment">//red||green||blue</span></div></pre></td></tr></table></figure>
<ul>
<li>栈方法:后进先出</li>
</ul>
<ol>
<li>push()<br> 返回的是数组的新长度</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">// 创建一个数组</span></div><div class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"red"</span>, <span class="string">"green"</span>); <span class="comment">// 推入两项</span></div><div class="line">alert(count); <span class="comment">//2</span></div></pre></td></tr></table></figure>
<ol>
<li>pop()<br> 返回的是移除的项</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>];</div><div class="line">colors.push(<span class="string">"brown"</span>); <span class="comment">// 添加另一项</span></div><div class="line">colors[<span class="number">3</span>] = <span class="string">"black"</span>; <span class="comment">// 添加一项</span></div><div class="line">alert(colors.length); <span class="comment">// 4</span></div><div class="line"><span class="keyword">var</span> item = colors.pop(); <span class="comment">// 取得最后一项</span></div><div class="line">alert(item); <span class="comment">//"black"</span></div></pre></td></tr></table></figure>
<ul>
<li>队列方法：先进先出</li>
</ul>
<ol>
<li>shift()<br> 移除数组中的第一个项并返回该项</li>
<li>unshift()<br> 在数组前端添加任意个项并返回新数组的长度</li>
</ol>
<ul>
<li>重排序方法</li>
</ul>
<ol>
<li><p>reverse()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line">values.reverse();</div><div class="line">alert(values); <span class="comment">//5,4,3,2,1</span></div></pre></td></tr></table></figure>
</li>
<li><p>sort()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//正确的排序方法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1, value2</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (value1 &lt; value2) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value1 &gt; value2) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> values = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>];</div><div class="line">values.sort(compare);</div><div class="line">alert(values); <span class="comment">//0,1,5,10,15</span></div></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>操作方法</li>
</ul>
<ol>
<li>concat()<br> 拼接数组</li>
<li>slice()<br> slice() 方法可以接受一或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下， slice() 方法返回从该参数指定位置开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束位置之间的项——但不包括结束位置的项。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span>, <span class="string">"purple"</span>];</div><div class="line"><span class="keyword">var</span> colors2 = colors.slice(<span class="number">1</span>);   <span class="comment">//["green", "blue", "yellow", "purple"]</span></div><div class="line"><span class="keyword">var</span> colors3 = colors.slice(<span class="number">1</span>,<span class="number">4</span>); <span class="comment">//["green", "blue", "yellow"]</span></div></pre></td></tr></table></figure>
<ol>
<li>splice()<br> 最强大的数组方法，可删除，插入，替换</li>
</ol>
<ul>
<li><p>删除<br>可以删除任意数量的项，只需指定 2 个参数：要删除的第一项的位置和要删除的项数。例如， splice(0,2) 会删除数组中的前两项</p>
</li>
<li><p>插入<br>可以向指定位置插入任意数量的项，只需提供 3 个参数：起始位置、0（要删除的项数）和要插入的项。如果要插入多个项，可以再传入第四、第五，以至任意多个项。例如，splice(2,0,”red”,”green”) 会从当前数组的位置 2 开始插入字符串 “red” 和 “green”</p>
</li>
<li><p>替换<br>可以向指定位置插入任意数量的项，且同时删除任意数量的项，只需指定 3 个参数：起始位置、要删除的项数和要插入的任意数量的项。插入的项数不必与删除的项数相等。例如，splice (2,1,”red”,”green”) 会删除当前数组位置 2 的项，然后再从位置 2 开始插入字符串”red” 和 “green”</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>];</div><div class="line"><span class="keyword">var</span> removed = colors.splice(<span class="number">0</span>,<span class="number">1</span>); <span class="comment">// 删除第一项</span></div><div class="line">alert(colors); <span class="comment">// green,blue</span></div><div class="line">alert(removed); <span class="comment">// red，返回的数组中只包含一项</span></div><div class="line">removed = colors.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">"yellow"</span>, <span class="string">"orange"</span>); <span class="comment">// 从位置 1 开始插入两项</span></div><div class="line">alert(colors); <span class="comment">// green,yellow,orange,blue</span></div><div class="line">alert(removed); <span class="comment">// 返回的是一个空数组</span></div><div class="line">removed = colors.splice(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"red"</span>, <span class="string">"purple"</span>); <span class="comment">// 插入两项，删除一项</span></div><div class="line">alert(colors); <span class="comment">// green,red,purple,orange,blue</span></div><div class="line">alert(removed); <span class="comment">// yellow，返回的数组中只包含一项</span></div></pre></td></tr></table></figure>
<ul>
<li>位置方法</li>
</ul>
<ol>
<li>indexOf()和lastIndexOf()<br> 这两个方法都接收两个参数：要查找的项和（可选的）表示查找起点位置的索引。其中， indexOf() 方法从数组的开头（位置 0）开始向后查找， lastIndexOf() 方法则从数组的末尾开始向前查找,这两个方法都返回要查找的项在数组中的位置，或者在没找到的情况下返回-1。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">7</span>];</div><div class="line"></div><div class="line">alert(numbers.indexOf(<span class="number">4</span>)); <span class="comment">//3</span></div><div class="line">alert(numbers.lastIndexOf(<span class="number">5</span>)); <span class="comment">//6</span></div><div class="line">alert(numbers.lastIndexOf(<span class="number">7</span>)); <span class="comment">//8</span></div><div class="line"></div><div class="line">alert(numbers.indexOf(<span class="number">4</span>, <span class="number">4</span>)); <span class="comment">//-1</span></div><div class="line">alert(numbers.indexOf(<span class="number">4</span>, <span class="number">3</span>)); <span class="comment">//3</span></div><div class="line"></div><div class="line">alert(numbers.lastIndexOf(<span class="number">2</span>, <span class="number">8</span>)); <span class="comment">//-1</span></div><div class="line">alert(numbers.lastIndexOf(<span class="number">2</span>, <span class="number">5</span>)); <span class="comment">//8</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> person = &#123; <span class="attr">name</span>: <span class="string">"Nicholas"</span> &#125;;</div><div class="line"><span class="keyword">var</span> people = [&#123; <span class="attr">name</span>: <span class="string">"Nicholas"</span> &#125;];</div><div class="line"></div><div class="line"><span class="keyword">var</span> morePeople = [person];</div><div class="line"></div><div class="line">alert(people.indexOf(person)); <span class="comment">//-1</span></div><div class="line">alert(morePeople.indexOf(person)); <span class="comment">//0</span></div></pre></td></tr></table></figure>
<ul>
<li>reduce()和reduceRight()<br>reduce() 和 reduceRight() 的函数接收 4 个参数：前一个值、当前值、项的索引和数组对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> values = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line"><span class="keyword">var</span> sum = values.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, array</span>)</span>&#123;</div><div class="line"><span class="keyword">return</span> prev + cur;</div><div class="line">&#125;);</div><div class="line">alert(sum); <span class="comment">//15</span></div></pre></td></tr></table></figure>
<h3 id="5-4-Date类型"><a href="#5-4-Date类型" class="headerlink" title="5.4 Date类型"></a>5.4 Date类型</h3><ul>
<li>参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="external">MDN-Date类型</a></li>
</ul>
<h3 id="5-5-RegExp类型"><a href="#5-5-RegExp类型" class="headerlink" title="5.5 RegExp类型"></a>5.5 RegExp类型</h3><ul>
<li>可以使用RegExp()构造函数来创建RegExp对象，但更多时候正则表达式直接量定义为包含在一队斜杠（/）之间的字符，例如</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pattern=<span class="regexp">/s$/</span></div><div class="line"><span class="keyword">var</span> pattern=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'s$'</span>)</div></pre></td></tr></table></figure>
<ul>
<li>RegExp实例方法</li>
</ul>
<ol>
<li>test()</li>
</ol>
<ul>
<li>基本语法：RegExpObject.test(str)</li>
<li>param(参数) str是需要检测的字符串</li>
<li>return (返回值) 如果字符串str中含有与RegExpObject匹配的文本的话，返回true，否则返回false</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"longen and yunxi"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="regexp">/longen/</span>.test(str)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="regexp">/longlong/</span>.test(str)); <span class="comment">//false</span></div><div class="line"><span class="comment">// 或者创建RegExp对象模式</span></div><div class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"longen"</span>);</div><div class="line"><span class="built_in">console</span>.log(regexp.test(str)); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<ol>
<li>exec()</li>
</ol>
<ul>
<li>基本语法：RegExpObject.exec(string)</li>
<li>param(参数)：string【必填项】要检索的字符串</li>
<li>return(返回值)：返回一个数组，存放匹配的结果，如果未找到匹配，则返回值为null</li>
<li>该返回的数组的第一个元素是与正则表达式相匹配的文本，该方法还返回2个属性，index属性声明的是匹配文本的第一个字符的位置；input属性则存放的是被检索的字符串string；该方法如果不是全局的话，返回的数组与match()方法返回的数组是相同的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"longen and yunxi"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="regexp">/longen/</span>.exec(str));</div><div class="line"><span class="comment">// 打印 ["longen", index: 0, input: "longen and yunxi"]</span></div><div class="line"></div><div class="line"><span class="comment">// 假如没有找到的话，则返回null</span></div><div class="line"><span class="built_in">console</span>.log(<span class="regexp">/wo/</span>.exec(str)); <span class="comment">// null</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text = <span class="string">"mom and dad and baby"</span>;</div><div class="line"><span class="keyword">var</span> pattern = <span class="regexp">/mom( and dad( and baby)?)?/gi</span>;</div><div class="line"><span class="keyword">var</span> matches = pattern.exec(text);</div><div class="line">alert(matches.index); <span class="comment">// 0</span></div><div class="line">alert(matches.input); <span class="comment">// "mom and dad and baby"</span></div><div class="line">alert(matches[<span class="number">0</span>]); <span class="comment">// "mom and dad and baby"</span></div><div class="line">alert(matches[<span class="number">1</span>]); <span class="comment">// " and dad and baby"</span></div><div class="line">alert(matches[<span class="number">2</span>]); <span class="comment">// " and baby"</span></div></pre></td></tr></table></figure>
<p>上面一段代码，为什么matches[1]会是”and dad and baby”，后来参考了<a href="http://blog.csdn.net/fareise/article/details/52081092" target="_blank" rel="external">使用js中的exec()方法构造正则表达式验证</a>这一篇博客，才知道，“在返回的数组中，第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串（如果模式中没有捕获组，则该数组只包含一项）”这句话中的“捕获组匹配的字符串”是指<strong>模式汇总每一个（）所定义的分组所匹配的字符</strong>，这也就不难解释为什么matches[1]是”and dad and baby”，matches[2]是“and baby”了。<br>关于index和lastINdex,可参考这篇segmentfault上的问答：<a href="https://segmentfault.com/q/1010000002874441" target="_blank" rel="external">js中，exec()方法，为何这里的index是5？</a>,摘抄如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pattern2 = <span class="regexp">/.at/g</span>;</div><div class="line"><span class="keyword">var</span> matches = pattern2.exec(text);</div><div class="line">alert(matches.index); <span class="comment">//0</span></div><div class="line">alert(matches[<span class="number">0</span>]); <span class="comment">//cat</span></div><div class="line">alert(pattern2.lastIndex); <span class="comment">//3</span></div><div class="line"></div><div class="line">matches = pattern2.exec(text);</div><div class="line">alert(matches.index); <span class="comment">//5</span></div><div class="line">alert(matches[<span class="number">0</span>]); <span class="comment">//bat</span></div><div class="line">alert(pattern2.lastIndex); <span class="comment">//8</span></div></pre></td></tr></table></figure>
<p>咱们按逗号之后不加空格来说：你看，第一次检索出来的是cat，第一个字符的索引是0，所以result.index是0，而此时一个检查字符串中每个字符的指针ptr已经走到t后面了，所以lastIndex是3，就是相当于告诉正则表达式，我们已经检查到索引为3的地方了，下一次直接从这里开始就好了。<br>第二次检索从lastIndex也就是3开始，找到后面的bat之后，匹配成功，bat里第一个字符b是4，所以result.index是4，而我们匹配完整个bat的时候，指针ptr已经走到bat后面了，也就是索引为7的位置，所以结果是4和7。这样你再开始下一次检索的时候，就会从text[7]开始，也就是第二个逗号的位置开始往后找，所以下一次匹配是8, sat, 11，再下次12, fat, 15。现在到头了，再匹配一次的话就是null了，这时候你看看pattern1.lastIndex，已经回到0了。</p>
<h3 id="5-5-Function类型"><a href="#5-5-Function类型" class="headerlink" title="5.5 Function类型"></a>5.5 Function类型</h3><ul>
<li>函数是对象，每个函数都是Function类型的实例，函数名是一个指向函数对象的指针。</li>
<li>使用不带圆括号的函数名是访问函数指针，而非调用函数<ul>
<li>函数声明与函数表达式的区别</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//函数声明提升，函数正常运行，没有报错</span></div><div class="line">alert(sum(<span class="number">10</span>,<span class="number">10</span>));</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> num1 + num2;</div><div class="line">&#125;</div><div class="line"><span class="comment">//报错</span></div><div class="line">alert(sum(<span class="number">10</span>,<span class="number">10</span>));</div><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> num1 + num2;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>apply()方法和call()<br>call()和apply()的第一个实参是要调用函数的母对象，它是调用上下文，在函数体内通过this来获得对它的引用。<br>要想以对象o的方法来调用函数f(),可以这样使用call()和apply()。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">f.call(o);</div><div class="line">f.apply(o);</div><div class="line"><span class="comment">//每行代码和下面代码的功能类似</span></div><div class="line">o.m=f;          <span class="comment">//将f存储为o的临时方法</span></div><div class="line">o.m();          <span class="comment">//调用它，不传入参数</span></div><div class="line"><span class="keyword">delete</span> o.m;     <span class="comment">//将临时方法删除</span></div></pre></td></tr></table></figure>
<p>apply() 方法接收两个参数：一个是在其中运行函数的作用域，另一个是参数数组。其中，第二个参数可以是 Array 的实例，也可以是arguments 对象，call() 方法与 apply() 方法的作用相同，它们的区别仅在于接收参数的方式不同。对于 call()方法而言，第一个参数是 this 值没有变化，变化的是其余参数都直接传递给函数。换句话说，在使用call() 方法时，传递给函数的参数必须逐个列举出来</p>
<p><strong>一般用来扩充函数赖以运行的作用域</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.color = <span class="string">"red"</span>;</div><div class="line"><span class="keyword">var</span> o = &#123; <span class="attr">color</span>: <span class="string">"blue"</span> &#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">alert(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line">sayColor(); <span class="comment">//red</span></div><div class="line">sayColor.call(<span class="keyword">this</span>); <span class="comment">//red</span></div><div class="line">sayColor.call(<span class="built_in">window</span>); <span class="comment">//red</span></div><div class="line">sayColor.call(o); <span class="comment">//blue</span></div></pre></td></tr></table></figure>
<ul>
<li>bind()方法<br>这个方法会创建一个函数的实例，其 this 值会被绑定到传给 bind() 函数的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.color = <span class="string">"red"</span>;</div><div class="line"><span class="keyword">var</span> o = &#123; <span class="attr">color</span>: <span class="string">"blue"</span> &#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> objectSayColor = sayColor.bind(o);</div><div class="line">objectSayColor(); <span class="comment">//blue</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="5-6-基本包装类型"><a href="#5-6-基本包装类型" class="headerlink" title="5.6 基本包装类型"></a>5.6 基本包装类型</h3><ul>
<li>为了便于操作基本类型值，ECMAScript 还提供了 3 个特殊的引用类型： Boolean 、 Number 和String</li>
<li>每当读取一个基本类型值的时候，后台就会创建一个对应的基本包装类型的对象，从而让我们能够调用一些方法来操作这些数据</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="string">"some text"</span>;</div><div class="line"><span class="keyword">var</span> s2 = s1.substring(<span class="number">2</span>);</div></pre></td></tr></table></figure>
<p>处理过程如下：</p>
<ol>
<li>创建 String 类型的一个实例</li>
<li>在实例上调用指定的方法</li>
<li>销毁这个实例<br>可以将以上三个步骤想象成是执行了下列 ECMAScript 代码</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"some text"</span>);</div><div class="line"><span class="keyword">var</span> s2 = s1.substring(<span class="number">2</span>);</div><div class="line">s1 = <span class="literal">null</span>;</div></pre></td></tr></table></figure>
<p>引用类型与基本包装类型的主要区别就是对象的生存期。使用 new 操作符创建的引用类型的实例，在执行流离开当前作用域之前都一直保存在内存中。而自动创建的基本包装类型的对象，则只存在于一行代码的执行瞬间，然后立即被销毁。这意味着我们不能在运行时为基本类型值添加属性和方法。来看下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var s1 = &quot;some text&quot;;</div><div class="line">s1.color = &quot;red&quot;; //第二行创建的 String 对象在执行第三行代码时已经被销毁了</div><div class="line">alert(s1.color); //undefined</div></pre></td></tr></table></figure>
<h4 id="5-6-1-Boolean类型"><a href="#5-6-1-Boolean类型" class="headerlink" title="5.6.1 Boolean类型"></a>5.6.1 Boolean类型</h4><ul>
<li>由于 Boolean 对象是 Boolean 类型的实例，所以使用 instanceof操作符测试 Boolean 对象会返回 true ，而测试基本类型的布尔值则返回 false</li>
<li>理解基本类型的布尔值与 Boolean 对象之间的区别非常重要——当然，我们的建议是永远不要使用 Boolean 对象</li>
</ul>
<h4 id="5-6-2-Number类型"><a href="#5-6-2-Number类型" class="headerlink" title="5.6.2 Number类型"></a>5.6.2 Number类型</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toString()); <span class="comment">//"10"</span></div><div class="line">alert(num.toString(<span class="number">2</span>)); <span class="comment">//"1010"</span></div><div class="line">alert(num.toString(<span class="number">8</span>)); <span class="comment">//"12"</span></div><div class="line">alert(num.toString(<span class="number">10</span>)); <span class="comment">//"10"</span></div><div class="line">alert(num.toString(<span class="number">16</span>)); <span class="comment">//"a"</span></div></pre></td></tr></table></figure>
<ul>
<li>Number 类型还提供了一些用于将数值格式化为字符串的方法</li>
</ul>
<ol>
<li><p>toFixed()<br>会按照指定的小数位返回数值的字符串表示</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toFixed(<span class="number">2</span>)); <span class="comment">//"10.00"</span></div></pre></td></tr></table></figure>
</li>
<li><p>toExponential()<br>方法返回以指数表示法（也称 e 表示法）表示的数值的字符串形式</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toExponential(<span class="number">1</span>)); <span class="comment">//"1.0e+1"</span></div></pre></td></tr></table></figure>
<p>3.toPrecision()<br>对于一个数值来说， toPrecision() 方法可能会返回固定大小（fixed）格式，也可能返回指数（exponential）格式；具体规则是看哪种格式最合适。这个方法接收一个参数，即表示数值的所有数字的位数（不包括指数部分）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">99</span>;</div><div class="line">alert(num.toPrecision(<span class="number">1</span>)); <span class="comment">//"1e+2"</span></div><div class="line">alert(num.toPrecision(<span class="number">2</span>)); <span class="comment">//"99"</span></div><div class="line">alert(num.toPrecision(<span class="number">3</span>)); <span class="comment">//"99.0"</span></div></pre></td></tr></table></figure>
<h4 id="5-6-3-String类型"><a href="#5-6-3-String类型" class="headerlink" title="5.6.3 String类型"></a>5.6.3 String类型</h4><p>String 类型的每个实例都有一个 length 属性，表示字符串中包含多个字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var stringValue = &quot;hello world&quot;;</div><div class="line">alert(stringValue.length); //&quot;11&quot;</div></pre></td></tr></table></figure>
<ul>
<li>字符方法</li>
</ul>
<ol>
<li><p>charAt()<br>charAt() 方法以单字符字符串的形式返回给定位置的那个字符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.charAt(<span class="number">1</span>)); <span class="comment">//"e"</span></div></pre></td></tr></table></figure>
</li>
<li><p>charCodeAt()<br>想得到的不是字符而是字符编码</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.charCodeAt(<span class="number">1</span>)) <span class="comment">//"101"</span></div></pre></td></tr></table></figure>
<ul>
<li>字符串操作方法<br>这些方法都不会修改字符串本身的值，它们只是返回一个基本类型的字符串值</li>
</ul>
<ol>
<li>concat()<br>用于将一或多个字符串拼接起来，返回拼接得到的新字符串,在实践中一般使用加号操作符来代替</li>
<li>slice(),substring(),substr()的区别<br>首先，他们都接收两个参数，slice和substring接收的是<strong>起始位置和结束位置(不包括结束位置)</strong>，而substr接收的则是起始位置和<strong>所要返回的字符串长度</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> test=<span class="string">'hello world'</span></div><div class="line">alert(test.slice(<span class="number">4</span>,<span class="number">7</span>))      <span class="comment">//"o w"</span></div><div class="line">alert(test.substring(<span class="number">4</span>,<span class="number">7</span>))      <span class="comment">//"o w"</span></div><div class="line">alert(test.substr(<span class="number">4</span>,<span class="number">7</span>))      <span class="comment">//"o world"</span></div></pre></td></tr></table></figure>
<p>substring是以两个参数中较小一个作为起始位置，较大的参数作为结束位置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(test.substring(<span class="number">7</span>,<span class="number">4</span>));          <span class="comment">//o w</span></div></pre></td></tr></table></figure>
<p>接着，当接收的参数是负数时，slice会将它字符串的长度与对应的负数相加，结果作为参数；substr则仅仅是将负的第一个参数与字符串长度相加后的结果作为第一个参数，而将负的第二个参数转换为0；substring则干脆将负参数都直接转换为0</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> test=<span class="string">"hello world"</span></div><div class="line">alert(test.slice(<span class="number">-3</span>))       <span class="comment">//rld</span></div><div class="line">alert(test.substring(<span class="number">-3</span>))   <span class="comment">//Hello world</span></div><div class="line">alert(test.substr(<span class="number">-3</span>))      <span class="comment">//rld</span></div><div class="line"></div><div class="line">alert(test.slice(<span class="number">3</span>,<span class="number">-4</span>))     <span class="comment">//lo w</span></div><div class="line">alert(test.substring(<span class="number">3</span>,<span class="number">-4</span>)) <span class="comment">/*hel 第二点说到，substring会将较小的数作为开始位置，</span></div><div class="line">将较大的数作为结束位置。*/</div><div class="line">alert(test.substr(<span class="number">3</span>,<span class="number">-4</span>))    <span class="comment">/*由于第一个参数不是负数，不转换，依然是3，但第二个参数是负数，</span></div><div class="line">所以转换为0，所以结果是一个空字符串*/</div></pre></td></tr></table></figure>
<ul>
<li>字符串位置方法</li>
</ul>
<ol>
<li><p>indexOf()和lastIndexOf()<br>参考数组的indexOf()和lastIndexOf()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.indexOf(<span class="string">"o"</span>, <span class="number">6</span>));      <span class="comment">//7</span></div><div class="line">alert(stringValue.lastIndexOf(<span class="string">"o"</span>, <span class="number">6</span>));  <span class="comment">//4</span></div></pre></td></tr></table></figure>
</li>
<li><p>trim()方法<br>这个方法会创建一个字符串的副本，删除前置及后缀的所有空格，然后返回结果</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringValue = <span class="string">" hello world "</span>;</div><div class="line"><span class="keyword">var</span> trimmedStringValue = stringValue.trim();</div><div class="line">alert(stringValue); <span class="comment">//" hello world "</span></div><div class="line">alert(trimmedStringValue); <span class="comment">//"hello world"</span></div></pre></td></tr></table></figure>
</li>
<li><p>字符串大小写的转换写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.toLocaleUpperCase()); <span class="comment">//"HELLO WORLD"</span></div><div class="line">alert(stringValue.toUpperCase()); <span class="comment">//"HELLO WORLD"</span></div><div class="line">alert(stringValue.toLocaleLowerCase()); <span class="comment">//"hello world"</span></div><div class="line">alert(stringValue.toLowerCase()); <span class="comment">//"hello world"</span></div></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>字符串的匹配模式</li>
</ul>
<ol>
<li>match()<br>在字符串上调用match()方法，本质上与调用RegExp的exec()方法相同,match()只接受一个参数，要么是一个正则表达式，要么是一个RegExp对象。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text=<span class="string">'cat,bat,sat,fat'</span>;</div><div class="line"><span class="keyword">var</span> pattern=<span class="regexp">/.at/</span>;</div><div class="line"></div><div class="line"><span class="comment">//与pattern.exec(text)相同</span></div><div class="line"><span class="keyword">var</span> matches=text.match(pattern);</div><div class="line">altert(matches.index);      <span class="comment">//0</span></div><div class="line">altert(matches[<span class="number">0</span>]);         <span class="comment">//"cat"</span></div><div class="line">altert(matches.lastIndex);  <span class="comment">//0</span></div></pre></td></tr></table></figure>
<ol>
<li>search()<br>这个方法的唯一参数与 match() 方法的参数相同：由字符串或 RegExp 对象指定的一个正则表达式。 search() 方法返回字符串中第一个匹配项的索引；如果没有找到匹配项，则返回 -1 。而且， search() 方法始终是从字符串开头向后查找模式。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text = <span class="string">"cat, bat, sat, fat"</span>;</div><div class="line"><span class="keyword">var</span> pos = text.search(<span class="regexp">/at/</span>);</div><div class="line">alert(pos); <span class="comment">//1</span></div></pre></td></tr></table></figure>
<ol>
<li><p>replace()<br>这个方法接受两个参数：第一个参数可以是一个 RegExp 对象或者一个字符串（这个字符串不会被转换成正则表达式），第二个参数可以是一个字符串或者一个函数。如果第一个参数是字符串，那么只会替换第一个子字符串。要想替换所有子字符串，唯一的办法就是提供一个正则表达式，而且要指定全局（ g ）标志</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text = <span class="string">"cat, bat, sat, fat"</span>;</div><div class="line"><span class="keyword">var</span> result = text.replace(<span class="string">"at"</span>, <span class="string">"ond"</span>);</div><div class="line">alert(result); <span class="comment">//"cond, bat, sat, fat"</span></div><div class="line">result = text.replace(<span class="regexp">/at/g</span>, <span class="string">"ond"</span>);</div><div class="line">alert(result); <span class="comment">//"cond, bond, sond, fond"</span></div></pre></td></tr></table></figure>
</li>
<li><p>split()<br>这个方法可以基于指定的分隔符将一个字符串分割成多个子字符串，并将结果放在一个数组中。分隔符可以是字符串，也可以是一个 RegExp 对象（这个方法不会将字符串看成正则表达式）。 split() 方法可以接受可选的第二个参数，用于指定数组的大小，以便确保返回的数组不会超过既定大小</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> colorText = <span class="string">"red,blue,green,yellow"</span>;</div><div class="line"><span class="keyword">var</span> colors1 = colorText.split(<span class="string">","</span>); <span class="comment">//["red", "blue", "green", "yellow"]</span></div><div class="line"><span class="keyword">var</span> colors2 = colorText.split(<span class="string">","</span>, <span class="number">2</span>); <span class="comment">//["red", "blue"]</span></div><div class="line"><span class="keyword">var</span> colors3 = colorText.split(<span class="regexp">/[^\,]+/</span>); <span class="comment">//["", ",", ",", ",", ""]</span></div></pre></td></tr></table></figure>
<h3 id="5-7-单体内置对象"><a href="#5-7-单体内置对象" class="headerlink" title="5.7 单体内置对象"></a>5.7 单体内置对象</h3><h4 id="5-7-1-Global对象"><a href="#5-7-1-Global对象" class="headerlink" title="5.7.1 Global对象"></a>5.7.1 Global对象</h4><p>本书前面介绍过的那些函数，诸如 isNaN() 、 isFinite() 、parseInt() 以及 parseFloat() ，实际上全都是 Global对象的方法。除此之外， Global 对象还包含其他一些方法</p>
<ul>
<li>URI 编码方法<br>encodeURI() 和 encodeURIComponent() 方法,可以对 URI（Uniform ResourceIdentifiers，通用资源标识符）进行编码，以便发送给浏览器。有效的 URI 中不能包含某些字符，例如空格。而这两个 URI 编码方法就可以对 URI 进行编码，它们用特殊的 UTF-8 编码替换所有无效的字符，从而让浏览器能够接受和理解。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> uri = <span class="string">"http://www.wrox.com/illegalvalue.htm#start"</span>;</div><div class="line"></div><div class="line"><span class="comment">//"http://www.wrox.com/illegal%20value.htm#start"</span></div><div class="line">alert(<span class="built_in">encodeURI</span>(uri));</div><div class="line"></div><div class="line"><span class="comment">//"http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start"</span></div><div class="line">alert(<span class="built_in">encodeURIComponent</span>(uri));</div></pre></td></tr></table></figure>
<p>使用 encodeURI() 编码后的结果是除了空格之外的其他字符都原封不动，只有空格被替换成了%20 。而 encodeURIComponent() 方法则会使用对应的编码替换所有非字母数字字符。这也正是可以对整个 URI使用 encodeURI() ，而只能对附加在现有 URI后面的字符串使用 encodeURIComponent()的原因所在。<br><strong>一 般 来 说 ， 我 们 使 用 encodeURIComponent() 方 法 的 时 候 要 比 使 用encodeURI() 更多，因为在实践中更常见的是对查询字符串参数而不是对基础 URI进行编码。</strong><br>与 encodeURI() 和 encodeURIComponent() 方法对应的两个方法分别是 decodeURI() 和decodeURIComponent() 。其中， decodeURI() 只能对使用 encodeURI() 替换的字符进行解码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> uri = <span class="string">"http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start"</span>;</div><div class="line"></div><div class="line"><span class="comment">//http%3A%2F%2Fwww.wrox.com%2Fillegal value.htm%23start</span></div><div class="line">alert(<span class="built_in">decodeURI</span>(uri));</div><div class="line"></div><div class="line"><span class="comment">//http://www.wrox.com/illegal value.htm#start</span></div><div class="line">alert(<span class="built_in">decodeURIComponent</span>(uri));</div></pre></td></tr></table></figure>
<p>在第一次调用 decodeURI()输出的结果中，只有 %20 被替换成了空格。而在第二次调用 decodeURIComponent() 输出的结果中，所有特殊字符的编码都被替换成了原来的字符，得到了一个未经转义的字符串。</p>
<ul>
<li>eval()<br>没什么好说的</li>
</ul>
<h4 id="5-7-2-Math对象"><a href="#5-7-2-Math对象" class="headerlink" title="5.7.2 Math对象"></a>5.7.2 Math对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>);</div><div class="line">alert(max); <span class="comment">//54</span></div><div class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>);</div><div class="line">alert(min);</div></pre></td></tr></table></figure>
<ul>
<li>Math.ceil() 执行向上舍入，即它总是将数值向上舍入为最接近的整数；</li>
<li>Math.floor() 执行向下舍入，即它总是将数值向下舍入为最接近的整数；</li>
<li>Math.round() 执行标准舍入，即它总是将数值四舍五入为最接近的整数（这也是我们在数学课上学到的舍入规则）。</li>
<li>random() 方法<br>Math.random() 方法返回大于等于 0 小于 1 的一个随机数。如果你想选择一个 1到 10 之间的数值，可以像下面这样编写代码</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span> + <span class="number">1</span>);</div></pre></td></tr></table></figure>
<hr>
<h2 id="面向对象的程序设计"><a href="#面向对象的程序设计" class="headerlink" title="面向对象的程序设计"></a>面向对象的程序设计</h2><h3 id="6-2-创建对象"><a href="#6-2-创建对象" class="headerlink" title="6.2 创建对象"></a>6.2 创建对象</h3><h4 id="6-2-1-工厂模式"><a href="#6-2-1-工厂模式" class="headerlink" title="6.2.1 工厂模式"></a>6.2.1 工厂模式</h4><p>用函数来封装以特定接口创建对象的细节</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">        o.name = name;</div><div class="line">        o.age = age;</div><div class="line">        o.job = job;</div><div class="line">        o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">        <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = createPerson(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = createPerson(<span class="string">"Greg"</span>, <span class="number">27</span>, <span class="string">"Doctor"</span>);</div></pre></td></tr></table></figure>
<ul>
<li>优点<br>解决了创建多个相似对象的问题</li>
<li>缺点<br>没有解决对象识别的问题,<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(person1 <span class="keyword">instanceof</span> createPerson)  <span class="comment">//false</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="6-2-2-构造函数模式"><a href="#6-2-2-构造函数模式" class="headerlink" title="6.2.2 构造函数模式"></a>6.2.2 构造函数模式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Greg"</span>, <span class="number">27</span>, <span class="string">"Doctor"</span>);</div></pre></td></tr></table></figure>
<ul>
<li>构造函数名以大写开头</li>
<li>要创建Person实例，必须使用new 操作符，person1和person2分别保存着Person的一个不同的实例，</li>
<li>这两个对象都有一个 constructor （构造函数）属性，该属性指向 Person<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alert(person1.constructor == Person); <span class="comment">//true</span></div><div class="line">alert(person2.constructor == Person); <span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">alert(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></div><div class="line">alert(person1 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></div><div class="line">alert(person2 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></div><div class="line">alert(person2 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<ul>
<li><p>将构造函数当作函数调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 当作构造函数使用</span></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line">person.sayName(); <span class="comment">//"Nicholas"</span></div><div class="line"><span class="comment">// 作为普通函数调用</span></div><div class="line">Person(<span class="string">"Greg"</span>, <span class="number">27</span>, <span class="string">"Doctor"</span>); <span class="comment">// 添加到 window</span></div><div class="line"><span class="built_in">window</span>.sayName(); <span class="comment">//"Greg"</span></div><div class="line"><span class="comment">// 在另一个对象的作用域中调用</span></div><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">Person.call(o, <span class="string">"Kristen"</span>, <span class="number">25</span>, <span class="string">"Nurse"</span>);</div><div class="line">o.sayName(); <span class="comment">//"Kristen"</span></div></pre></td></tr></table></figure>
</li>
<li><p>存在的问题<br>不同实例上的同名函数是不相等的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(person1.sayName == person2.sayName); <span class="comment">//false</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>可将sayName()函数转移到构造函数的外部<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line"><span class="keyword">this</span>.name = name;</div><div class="line"><span class="keyword">this</span>.age = age;</div><div class="line"><span class="keyword">this</span>.job = job;</div><div class="line"><span class="keyword">this</span>.sayName = sayName;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>)</span>&#123;</div><div class="line">alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Greg"</span>, <span class="number">27</span>, <span class="string">"Doctor"</span>);</div></pre></td></tr></table></figure></p>
<p>但这又使得全局作用域有点名不其实，只能被某个对象调用，而且如果对象需要定义很多方法，那么就要定义很多个全局函数。</p>
<h4 id="6-2-3-原型模式"><a href="#6-2-3-原型模式" class="headerlink" title="6.2.3 原型模式"></a>6.2.3 原型模式</h4><p><img src="http://omx21rwn1.bkt.clouddn.com/%E5%8E%9F%E5%9E%8B%E9%93%BE.png" alt="原型链"></p>
<ul>
<li><p>isPrototypeOf()<br>如果 [[Prototype]] 指向调用 isPrototypeOf() 方法的对象<br>（ Person.prototype ），那么这个方法就返回 true</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alert(<span class="built_in">Object</span>.getPrototypeOf(person1) == Person.prototype); <span class="comment">//true</span></div><div class="line">alert(<span class="built_in">Object</span>.getPrototypeOf(person1).name); <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure>
</li>
<li><p>Object.getPrototypeOf()<br>返回[[Prototype]] 的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alert(<span class="built_in">Object</span>.getPrototypeOf(person1) == Person.prototype); <span class="comment">//true</span></div><div class="line">alert(<span class="built_in">Object</span>.getPrototypeOf(person1).name); <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure>
</li>
<li><p>hasOwnProperty()<br>可以检测一个属性是存在于实例中，还是存在于原型中</p>
</li>
<li>Object.keys()<br>可取得对象上所有课枚举的实例属性，这个方法接受一个对象作为参数</li>
</ul>
<h4 id="6-2-4-组合使用构造函数模式和原型模式"><a href="#6-2-4-组合使用构造函数模式和原型模式" class="headerlink" title="6.2.4 组合使用构造函数模式和原型模式"></a>6.2.4 组合使用构造函数模式和原型模式</h4><p><strong>创建自定义类型的最常见方式，就是组合使用构造函数模式与原型模式。</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.friends= [<span class="string">"Shely"</span>,<span class="string">"Court"</span>];</div><div class="line">&#125;</div><div class="line"> </div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span> :Person,</div><div class="line">    <span class="attr">sayName</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>,<span class="number">20</span>,<span class="string">"Software Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Greg"</span>, <span class="number">27</span>, <span class="string">"Doctor"</span>);</div><div class="line"> </div><div class="line">person1.friends.push(<span class="string">"Van"</span>);</div><div class="line">alert(person1.friends);    <span class="comment">//"Shelby,Count,Van"</span></div><div class="line">alert(person2.friends); <span class="comment">//"Shelby,Count"</span></div><div class="line">alert(person1.friends === person2.friends); <span class="comment">//false</span></div><div class="line">alert(person1.sayName === person2.sayName); <span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<h4 id="6-2-5-动态原型模式"><a href="#6-2-5-动态原型模式" class="headerlink" title="6.2.5 动态原型模式"></a>6.2.5 动态原型模式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="comment">//属性</span></div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="comment">// 方法</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>.sayName != <span class="string">"function"</span>)&#123;</div><div class="line">        Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            alert(<span class="keyword">this</span>.name);</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line">friend.sayName();</div></pre></td></tr></table></figure>
<h4 id="6-2-6-寄生构造函数模式"><a href="#6-2-6-寄生构造函数模式" class="headerlink" title="6.2.6 寄生构造函数模式"></a>6.2.6 寄生构造函数模式</h4><p>形式上可看作是<strong>工厂模式+构造函数模式</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//工厂模式</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123; </div><div class="line">    <span class="keyword">var</span> o =<span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    o.name = name;</div><div class="line">    o.age = age;</div><div class="line">    o.job = job;</div><div class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"><span class="comment">//构造函数模式</span></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line">friend.sayName()  <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure></p>
<p>关于寄生构造函数模式，有一点需要说明：首先，返回的对象与构造函数或者与构造函数的原型属性之间没有关系；也就是说，构造函数返回的对象与在构造函数外部创建的对象没有什么不同。为此，不能依赖 instanceof 操作符来确定对象类型。由于存在上述问题，我们建议在可以使用其他模式的情况下，不要使用这种模式</p>
<h4 id="6-2-7-稳妥构造函数模式"><a href="#6-2-7-稳妥构造函数模式" class="headerlink" title="6.2.7 稳妥构造函数模式"></a>6.2.7 稳妥构造函数模式</h4><p>稳妥构造函数遵循与寄生构造函数类似的模式，但有两点不同：一是新创建对象的实例方法不引用 this ；二是不使用 new 操作符调用构造函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="comment">//创建要返回的对象</span></div><div class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    <span class="comment">//可以在这里定义私有变量和函数</span></div><div class="line">    <span class="comment">//添加方法</span></div><div class="line">    <span class="comment">/*除了使用sayName()方法之外，没有其他办法可以访问name的值*/</span></div><div class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">        alert(name);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//返回对象</span></div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> friend = Person(<span class="string">"Nicholas"</span>, <span class="number">29</span>, <span class="string">"Software Engineer"</span>);</div><div class="line">friend.sayName(); <span class="comment">//"Nicholas"</span></div></pre></td></tr></table></figure>
<h3 id="6-3-继承"><a href="#6-3-继承" class="headerlink" title="6.3 继承"></a>6.3 继承</h3><ul>
<li><p>构造函数，原型和实例的关系<br>每个<strong>构造函数</strong>都有一个原型对象prototype，原型对象都包含一个指向构造函数的指针constructor，而实例都包含一个指向原型对象的内容指针<em>proto</em>。<br>所有函数的默认原型都是Object的实例，因此默认原型都会包含一个内部指针，指向Object.prototype。这也正是所有自定义类型都会继承toString()，valueOf()等默认方法的根本原因。</p>
</li>
<li><p>确定原型与实例的关系</p>
<ul>
<li><p>instanceof操作符<br>只要用这个操作符来测试实例与原型链中出现过的构造函数，结果都会返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">altert(instance <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
<li><p>isPrototypeOf方法<br>只要是原型链中出现过的原型，都可以说是该原型链所派的实例的原型，因此isPrototypeOf()方法也会返回true</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">altert(<span class="built_in">Object</span>.isPrototypeOf(instance)); <span class="comment">//true</span></div></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2017/09/11/JavaScript高程复习（第3章到第6章）/" data-id="cj7g8ghei000978widnd6sciu" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/2017/09/11/FlappyBird/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">Canvas开发FlappyBird小游戏</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/11/JavaScript高程复习（第3章到第6章）/" class="thumbnail">
    
    
        <span style="background-image:url(http://ounf1hr8f.bkt.clouddn.com/17-9-11/45397200.jpg)" alt="JavaScript高程复习(第3章到第6章)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/前端开发/JavaScript/">JavaScript</a></p>
                            <p class="item-title"><a href="/2017/09/11/JavaScript高程复习（第3章到第6章）/" class="title">JavaScript高程复习(第3章到第6章)</a></p>
                            <p class="item-date"><time datetime="2017-09-11T13:14:56.097Z" itemprop="datePublished">2017-09-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/11/FlappyBird/" class="thumbnail">
    
    
        <span style="background-image:url(http://ounf1hr8f.bkt.clouddn.com/17-9-11/76117476.jpg)" alt="Canvas开发FlappyBird小游戏" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/前端开发/JavaScript/">JavaScript</a></p>
                            <p class="item-title"><a href="/2017/09/11/FlappyBird/" class="title">Canvas开发FlappyBird小游戏</a></p>
                            <p class="item-date"><time datetime="2017-09-11T04:55:59.852Z" itemprop="datePublished">2017-09-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/08/JavaScript面向对象笔试汇总（1）/" class="thumbnail">
    
    
        <span style="background-image:url(http://ounf1hr8f.bkt.clouddn.com/17-9-7/39262440.jpg)" alt="JavaScript面向对象笔试汇总(1)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/前端开发/JavaScript/">JavaScript</a></p>
                            <p class="item-title"><a href="/2017/09/08/JavaScript面向对象笔试汇总（1）/" class="title">JavaScript面向对象笔试汇总(1)</a></p>
                            <p class="item-date"><time datetime="2017-09-07T16:10:13.813Z" itemprop="datePublished">2017-09-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/08/观察者模式+原型链方法实现的一个小案例/" class="thumbnail">
    
    
        <span style="background-image:url(http://ounf1hr8f.bkt.clouddn.com/17-9-7/73122516.jpg)" alt="观察者模式+原型链方法实现的一个小案例" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/前端开发/JavaScript/">JavaScript</a></p>
                            <p class="item-title"><a href="/2017/09/08/观察者模式+原型链方法实现的一个小案例/" class="title">观察者模式+原型链方法实现的一个小案例</a></p>
                            <p class="item-date"><time datetime="2017-09-07T16:01:49.996Z" itemprop="datePublished">2017-09-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/09/07/关于原型链的一道面试题的思考/" class="thumbnail">
    
    
        <span style="background-image:url(http://ounf1hr8f.bkt.clouddn.com/17-9-7/32531361.jpg)" alt="关于原型链的一道面试题的思考" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/前端开发/JavaScript/">JavaScript</a></p>
                            <p class="item-title"><a href="/2017/09/07/关于原型链的一道面试题的思考/" class="title">关于原型链的一道面试题的思考</a></p>
                            <p class="item-date"><time datetime="2017-09-07T11:42:29.906Z" itemprop="datePublished">2017-09-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/JavaScript/">JavaScript</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/React/">React</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发工具/">开发工具</a><span class="category-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Human/">Human</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript，前端/">JavaScript，前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp/">gulp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/">json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/less/">less</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shp/">shp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试题/">面试题</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试题，设计模式/">面试题，设计模式</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Human/" style="font-size: 10px;">Human</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/JavaScript，前端/" style="font-size: 10px;">JavaScript，前端</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/gulp/" style="font-size: 10px;">gulp</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/less/" style="font-size: 10px;">less</a> <a href="/tags/shp/" style="font-size: 10px;">shp</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/面试题/" style="font-size: 15px;">面试题</a> <a href="/tags/面试题，设计模式/" style="font-size: 10px;">面试题，设计模式</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2017 小雄子的博客</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2017/09/11/JavaScript高程复习（第3章到第6章）/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
